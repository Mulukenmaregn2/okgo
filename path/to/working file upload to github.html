(7-days access token)
<!DOCTYPE html>
<html>
<body>
<form id="uploadForm">
     <input type="file" id="fileInput">
     <button type="submit">Upload</button>
</form>
<script>
   document.getElementById('uploadForm').addEventListener('submit', uploadFile);

   function uploadFile(event) {
       event.preventDefault(); // Prevent form submission

       const fileInput = document.getElementById('fileInput');
       const file = fileInput.files[0];
       const apiUrl = 'https://api.github.com/repos/Mulukenmaregn2/okgo/contents/path/to/file.jpg';

       const reader = new FileReader();
       reader.onload = function (event) {
           const content = event.target.result.split(',')[1]; // Get the base64 encoded content
           const requestData = {
               message: 'Upload file',
               content: content
           };

           fetch(apiUrl, {
               method: 'PUT', // Changed to PUT for updating content
               headers: {
                   'Authorization': 'token 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', // Replace with your GitHub token
                   'Content-Type': 'application/json'
               },
               body: JSON.stringify(requestData)
           })
           .then(response => response.json())
           .then(data => {
               if (data.content) {
                   console.log('File uploaded successfully!');
               } else {
                   console.error('File upload failed.');
               }
           })
           .catch(error => {
               console.error('An error occurred:', error);
           });
       };

       reader.readAsDataURL(file); // Changed to readAsDataURL for base64 encoding
   }
</script>
</body>
</html>
